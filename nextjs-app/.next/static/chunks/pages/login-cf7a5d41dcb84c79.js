(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return a(1650)}])},7508:function(e,n,a){"use strict";var s=a(5893),r=a(5379),t=a.n(r),i=a(1664),o=a.n(i),l=a(7294),d=a(4750),u=a(1163);n.Z=()=>{let[e,n]=(0,l.useState)(null),[a,r]=(0,l.useState)(!1),i=(0,u.useRouter)();(0,l.useEffect)(()=>{let getSession=async()=>{var e;let{data:{session:a}}=await (0,d.N)().auth.getSession();n(null!==(e=null==a?void 0:a.user)&&void 0!==e?e:null)};getSession();let{data:{subscription:e}}=(0,d.N)().auth.onAuthStateChange((e,a)=>{var s;n(null!==(s=null==a?void 0:a.user)&&void 0!==s?s:null)});return()=>e.unsubscribe()},[]);let handleLogout=async()=>{await (0,d.N)().auth.signOut(),i.push("/")};return(0,s.jsxs)("header",{className:"jsx-411ff4dbbd43a9a7 navbar",children:[(0,s.jsxs)("div",{className:"jsx-411ff4dbbd43a9a7 container",children:[(0,s.jsx)(o(),{href:"/",className:"logo",children:"GO-RENT"}),(0,s.jsxs)("nav",{className:"jsx-411ff4dbbd43a9a7 nav-links",children:[(0,s.jsx)(o(),{href:"/browse",children:"Browse Cars"}),e&&(0,s.jsx)(o(),{href:"/bookings",children:"My Bookings"}),(null==e?void 0:e.email)==="admin@gorent.com"&&(0,s.jsx)(o(),{href:"/admin",children:"Admin"})]}),(0,s.jsx)("div",{className:"jsx-411ff4dbbd43a9a7 auth-buttons",children:e?(0,s.jsxs)("div",{className:"jsx-411ff4dbbd43a9a7 user-menu",children:[(0,s.jsx)("button",{onClick:()=>r(!a),className:"jsx-411ff4dbbd43a9a7 btn btn-outline user-btn",children:e.email}),a&&(0,s.jsx)("div",{className:"jsx-411ff4dbbd43a9a7 dropdown",children:(0,s.jsx)("button",{onClick:handleLogout,className:"jsx-411ff4dbbd43a9a7 logout-btn",children:"Logout"})})]}):(0,s.jsx)(o(),{href:"/login",className:"btn btn-outline",children:"Login / Sign in"})})]}),(0,s.jsx)(t(),{id:"411ff4dbbd43a9a7",children:".user-menu.jsx-411ff4dbbd43a9a7{position:relative}.user-btn.jsx-411ff4dbbd43a9a7{cursor:pointer}.dropdown.jsx-411ff4dbbd43a9a7{position:absolute;top:100%;right:0;background:white;border:1px solid#e5e7eb;-webkit-border-radius:.375rem;-moz-border-radius:.375rem;border-radius:.375rem;-webkit-box-shadow:0 10px 15px -3px rgba(0,0,0,.1);-moz-box-shadow:0 10px 15px -3px rgba(0,0,0,.1);box-shadow:0 10px 15px -3px rgba(0,0,0,.1);z-index:10;min-width:120px}.logout-btn.jsx-411ff4dbbd43a9a7{width:100%;padding:.5rem 1rem;background:none;border:none;text-align:left;cursor:pointer;color:#374151}.logout-btn.jsx-411ff4dbbd43a9a7:hover{background:#f9fafb}"})]})}},1650:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return Login}});var s=a(5893),r=a(9008),t=a.n(r),i=a(1664),o=a.n(i),l=a(1163),d=a(7294),u=a(4750),c=a(7508);function Login(){let e=(0,l.useRouter)(),[n,a]=(0,d.useState)(""),[r,i]=(0,d.useState)(""),[b,h]=(0,d.useState)(!1),[x,m]=(0,d.useState)(""),handleSubmit=async a=>{if(a.preventDefault(),h(!0),m(""),"drunxxvn@gmail.com"===n&&"pukig4r1T"===r){let{data:n,error:a}=await (0,u.N)().auth.signInWithPassword({email:"admin@gorent.com",password:"admin123"});a?m("Admin login failed"):e.push("/admin"),h(!1);return}let{data:s,error:t}=await (0,u.N)().auth.signInWithPassword({email:n,password:r});t?m(t.message):e.push("/browse"),h(!1)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t(),{children:(0,s.jsx)("title",{children:"Login - GO-RENT"})}),(0,s.jsx)(c.Z,{}),(0,s.jsx)("div",{className:"form-container",children:(0,s.jsxs)("div",{className:"form-card",children:[(0,s.jsxs)("div",{className:"form-header",children:[(0,s.jsx)("h1",{children:"GO-RENT"}),(0,s.jsx)("p",{children:"Luxury Car Rental Service"})]}),(0,s.jsx)("h2",{style:{fontSize:"1.875rem",fontWeight:"600",color:"#2563eb",marginBottom:"2rem"},children:"Login"}),x&&(0,s.jsx)("div",{className:"error-message",children:x}),(0,s.jsxs)("form",{onSubmit:handleSubmit,children:[(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Email"}),(0,s.jsx)("input",{type:"email",value:n,onChange:e=>a(e.target.value),placeholder:"Example@email.com",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[(0,s.jsx)("label",{children:"Password"}),(0,s.jsx)("input",{type:"password",value:r,onChange:e=>i(e.target.value),placeholder:"Password",required:!0})]}),(0,s.jsx)("button",{type:"submit",className:"btn btn-primary btn-full",children:"Log In"})]}),(0,s.jsxs)("div",{className:"text-center",style:{marginTop:"1.5rem"},children:[(0,s.jsx)("span",{style:{color:"#6b7280"},children:"Don't have an account? "}),(0,s.jsx)(o(),{href:"/signup",children:"Create one"})]})]})})]})}},4750:function(e,n,a){"use strict";a.d(n,{N:function(){return getSupabaseClient}});var s=a(2629);let r=null,getSupabaseClient=()=>{if(!r){let e="your_supabase_project_url_here",n="your_supabase_anon_key_here";e&&n&&(r=(0,s.eI)(e,n))}return r}}},function(e){e.O(0,[151,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);